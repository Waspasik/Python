# Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ ğŸŒ¶ï¸ğŸŒ¶ï¸
# Ğ’Ğ°Ğ¼ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» files.txt, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ°Ñ…. ĞšĞ°Ğ¶Ğ´Ğ°Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ°
# Ñ„Ğ°Ğ¹Ğ»Ğ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ‚Ñ€Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ, Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ° â€” Ğ¸Ğ¼Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°, ĞµĞ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€
# (Ñ†ĞµĞ»Ğ¾Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾) Ğ¸ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ:

# cant-help-myself.mp3 7 MB
# keep-yourself-alive.mp3 6 MB
# bones.mp3 5 MB
# ...

# ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¿Ğ¾ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ, Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑÑ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹
# Ğ¾Ğ±ÑŠĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹, Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ², ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹
# ĞµĞµ Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼. Ğ“Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ñ‹ Ğ² Ğ»ĞµĞºÑĞ¸ĞºĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¹
# Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğ¹, Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°Ñ… â€” Ğ² Ğ»ĞµĞºÑĞ¸ĞºĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ Ğ¸Ñ… Ğ¸Ğ¼ĞµĞ½.

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 1. ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, ĞµÑĞ»Ğ¸ Ğ±Ñ‹ Ñ„Ğ°Ğ¹Ğ» files.txt Ğ¸Ğ¼ĞµĞ» Ğ²Ğ¸Ğ´:

# input.txt 3000 B
# scratch.zip 300 MB
# output.txt 1 KB
# temp.txt 4 KB
# boy.bmp 2000 KB
# mario.bmp 1 MB
# data.zip 900 MB

# Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ğ»Ğ° Ğ±Ñ‹ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸:

# boy.bmp
# mario.bmp
# ----------
# Summary: 3 MB

# input.txt
# output.txt
# temp.txt
# ----------
# Summary: 8 KB

# ata.zip
# scratch.zip
# ----------
# Summary: 1 GB

# Ğ³Ğ´Ğµ Summary â€” Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹.

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 2. Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ¸Ğ¼ĞµĞ½Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ.

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 3. ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² ÑĞ°Ğ¼Ñ‹Ñ… ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ñ… (Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾
# Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ñ…) ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ğ°Ñ… Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ñ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ´Ğ¾ Ñ†ĞµĞ»Ñ‹Ñ…. Ğ”Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼Ğ¸, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑĞ»ĞµĞ´ÑƒĞµÑ‚
# Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ ÑÑƒĞ¼Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ Ğ²ÑĞµÑ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹, ÑĞºĞ°Ğ¶ĞµĞ¼, Ğ² Ğ±Ğ°Ğ¹Ñ‚Ğ°Ñ…, Ğ° Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ¿ĞµÑ€ĞµĞ²ĞµÑÑ‚Ğ¸
# Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ğ² ÑĞ°Ğ¼Ñ‹Ğµ ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ğµ (Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ) ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ. ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹
# Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°:

# 1023 B -> 1023 B
# 1300 B -> 1 KB
# 1900 B -> 2 KB

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 4. Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ† Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ñ‚Ğ°ĞºĞ¸Ğµ Ğ¶Ğµ, ĞºĞ°ĞºĞ¸Ğµ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ñ‹ Ğ² Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞµ:

# 1 KB = 1024 B
# 1 MB = 1024 KB
# 1 GB = 1024 MB

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 5. Ğ£ĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ¿Ğ¾ ÑÑÑ‹Ğ»ĞºĞµ. ĞÑ‚Ğ²ĞµÑ‚ Ğ½Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ¿Ğ¾ ÑÑÑ‹Ğ»ĞºĞµ.

# ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 6. ĞŸÑ€Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ ÑĞ²Ğ½Ğ¾Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ UTF-8.

with open('D:/Python/Stepik/files.txt', 'r', encoding='utf-8') as file:
    
    def output_sum(res, sum):
        extention = {0: 'B', 1: 'KB', 2: 'MB', 3: 'GB'}
        counter = 0
        
        while True:
            if sum > 1023:
                sum = sum / 1024
                counter += 1
            else:
                sum = round(sum)
                break
        
        res.append('----------')
        sum = f'Summary: {sum} {extention[counter]}'
        res.append(sum)
        return print(*res, sep='\n')
    

    file_list = list(map(lambda line: line.split(), file.readlines()))

    for line in file_list:
        if line[-1] == 'KB':
            line[1] = int(line[1]) * 1024
        elif line[-1] == 'MB':
            line[1] = int(line[1]) * 1024**2
        elif line[-1] == 'GB':
            line[1] = int(line[1]) * 1024**3
    
    file_list = sorted(file_list)
    file_list.sort(key=lambda line: line[0].split('.')[-1])
    result = [file_list[0][0]]
    total_sum = int(file_list[0][1])

    for i in range(1, len(file_list)):
        if file_list[i][0].split('.')[-1] == result[0].split('.')[-1]:
            total_sum += int(file_list[i][1])
            result.append(file_list[i][0])
            if file_list[i] == file_list[-1]:
                output_sum(result, total_sum)
        else:
            output_sum(result, total_sum)
            print()
            result = [file_list[i][0]]
            total_sum = int(file_list[0][1])